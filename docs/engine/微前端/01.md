## 什么是微前端？

微前端是一种多个团队通过独立发布功能的方式来共同构建现代化 web 应用的技术手段及方法策略。

## 微前端具备哪些特性？

- **SPA 体验：** 微前端可以使所有的应用保持原有的 SPA 体验，统一品牌认知；
- **技术栈无关：** 可以使用不同的技术栈（例如 React、Vue、Svelte ）开发，支持独立部署；
- **独立开发、独立部署：** 微应用仓库独立，前后端可独立开发，部署完成后主框架自动完成同步更新
- **独立运行时：** 每个微应用之间状态隔离，运行时状态不共享

## 在哪些业务场景中推荐（不推荐）使用微前端？

**推荐：**

- 统一产品大型应用（独立部署、独立运行、技术栈无关、）：聚合跨团队的新应用、聚合内部已有的成熟应用、开放和扩展三方应用。
- 历史遗留的大型应用：拆分、解耦、重构就业务，新业务的开发。

**<font color="red">不推荐</font>**

- 应用的业务单一，不存在多个团队并行开发的情况，不需要兼容不同的技术栈；
- 应用的功能已经非常完善，不存在大量新需求开发的可能性；
- 项目组不想花费大量的时间在应用的改造上，以现有应用的稳定性为主；
- 应用进行微前端改造的成本还不如直接改造当前存量应用带来的收益大；
- 团队内开发人员不熟悉微前端，无法应对微前端架构的复杂性。

## 现在有哪些微前端解决方案？他们的区别是什么？

- iframe：
- qiankun：
- micro-app：

## 为什么不使用 iframe 来解决微前端？

[Why Not Iframe](https://www.yuque.com/kuitos/gky7yw/gesexv)

## 微前端中的 iframe 方案有什么优点和缺点？

**优点**

- 站点隔离和浏览上下文隔离，可以使微应用在运行时天然隔离，适合集成三方应用；
- 移植性和复用性好，可以便捷地嵌在不同的主应用中

**缺点**

- 主应用刷新时，iframe 无法保持 URL 状态（会重新加载 src 对应的初始 URL）；
- 主应用和 iframe 处于不同的浏览上下文，无法使 iframe 中的模态框相对于主应用居中；
- 主应用和 iframe 微应用的数据状态同步问题：持久化数据和通信。

## 什么情况下浏览器会给标签页（iframe）分配不同的 Renderer 进程？

- iframe 嵌入的<font color="red">跨站应用</font>，会分配到一个新的 Renderer 进程。

- iframe 嵌入的<font color="red">同站应用</font>，不会分配新的 Renderer 进程。

## 在微前端中如何识别微应用是在 iframe 中打开？

## iframe 和浏览上下文存在什么关系？

## iframe 中 主子应用 Cookie 是共享的么？

主子应用同域：可以携带和共享 Cookie，存在同名属性值被微应用覆盖的风险

主子应用跨域同站：默认主子应用无法共享 Cookie，可以通过设置 Domain 使得主子应用进行 Cookie 共享

主子应用跨站：子应用默认无法携带 Cookie（防止 CSRF 攻击），需要使用 HTTPS 协议并设置服务端 Cookie 的 SameSite 和 Secure 设置才行，并且子应用无法和主应用形成 Cookie 共享

## 微前端 NPM 方案有什么优点和缺点？

**缺点**

- NPM 包形式的微应用发布后，往往需要主应用升级相应 NPM 版本依赖并进行构建处理
- 主应用和各个微应用的全局变量会产生属性冲突
- 主应用和各个微应用的 CSS 样式会产生冲突

## 微前端 NPM 方案适用于哪些业务场景？

## 如何解决在主应用中实时调试微应用 NPM 包的源码问题？

## 什么是 Web Components?

## 微前端中的 Web Components 方案如何实现？

## 实现微前端中子应用免登的方案有哪些？

主子应用在同域的情况下，可以使用 共享 cookie 来解决免登录的问题。
