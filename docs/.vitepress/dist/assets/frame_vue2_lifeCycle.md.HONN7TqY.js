import{_ as t,D as o,o as r,c as d,k as s,I as l,w as n,a as e,R as i}from"./chunks/framework.CP3Xps-Z.js";const p="/assets/lifecycle.U4Y4AfvC.png",H=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"frame/vue2/lifeCycle.md","filePath":"frame/vue2/lifeCycle.md","lastUpdated":1702547996000}'),c={name:"frame/vue2/lifeCycle.md"},h=s("div",{class:"tip custom-block"},[s("p",{class:"custom-block-title"},"提示"),s("p",null,"生命周期相关专题 训练")],-1),u=s("h2",{id:"vue-的生命周期-钩子",tabindex:"-1"},[e("Vue 的生命周期(钩子)? "),s("a",{class:"header-anchor",href:"#vue-的生命周期-钩子","aria-label":'Permalink to "Vue 的生命周期(钩子)?"'},"​")],-1),k={class:"details custom-block"},g=s("summary",null,"查看答案",-1),_=i('<ol><li><strong>beforeCreated</strong>:</li></ol><p>实例了<code>vue</code>，但还没有进行数据初始化 和 响应式处理</p><ol start="2"><li><strong>created</strong>:</li></ol><p><code>vue</code>实例创建后同步调用，在这一步中，实例已完成对选项的处理，意味着以下内容已被配置完毕：<code>数据侦听</code>、<code>计算属性</code>、<code>方法</code>、<code>事件/侦听器</code>的回调函数。然而，挂载阶段还没开始，且 <code>$el property</code> 目前尚不可用。</p><ol start="3"><li><strong>beforeMount</strong>:</li></ol><p><code>render</code>函数在这里会被调用，生成<code>虚拟DOM</code>, 但是还没有生成真正的<code>DOM</code>并替换到<code>el</code>上</p><ol start="4"><li><strong>mounted</strong>:</li></ol><p>在这个阶段真实的<code>DOM</code>挂载完毕，可以获取到<code>DOM</code>。 注意 <code>mounted</code> 不会保证所有的子组件也都被挂载完成。如果你希望等到整个视图都渲染完毕再执行某些操作，可以在 <code>mounted</code> 内部使用 <code>vm.$nextTick</code></p>',8),E=i('<ol start="5"><li><strong>beforeUpdate</strong>:</li></ol><p>数据更新后，新的<code>虚拟DOM</code>生成，但还没有和<code>旧的虚拟DOM</code>做对比.</p><ol start="6"><li><strong>update</strong>:</li></ol><p><code>新旧虚拟DOM</code>对比后，进行<code>真实DOM</code>更新，注意，<code>updated</code> 不会保证所有的子组件也都被重新渲染完毕。如果你希望等到整个视图都渲染完毕，可以在 updated 里使用 <code>vm.$nextTick</code></p><ol start="7"><li><strong>activated</strong>:</li></ol><p>被<code>keep-alive</code>缓存组件激活时调用</p><ol start="8"><li><strong>deactivated</strong>:</li></ol><p>被<code>keep-alive</code>缓存组件停用时调用</p><p><strong>(注：路由注册中设置keep-alive: true 即缓存的页面没有9、10两个销毁生命周期)</strong></p>',9),m=s("ol",{start:"9"},[s("li",null,[s("strong",null,"beforeDestroy"),e(":")])],-1),b=s("p",null,"组件实例销毁之前调用，在这里依然能够获取到数据。",-1),y=s("ol",{start:"10"},[s("li",null,[s("strong",null,"destroyed"),e(":")])],-1),f=s("p",null,"组件实例销毁后调用，对应的所有指令、事件将会被解绑，所有子组件实例也会被销毁",-1),C=s("ol",{start:"11"},[s("li",null,[s("strong",null,"errorCaptured(2.5.0+ 新增)"),e(":")])],-1),v=s("p",null,"在捕获一个来自后代组件的错误时被调用。此钩子会收到三个参数：错误对象、发生错误的组件实例以及一个包含错误来源信息的字符串。此钩子可以返回 false 以阻止该错误继续向上传播。",-1),F=s("blockquote",null,[s("p",null,[s("strong",null,"完整生命周期图，生命周期很重点。完全理解了 vue 的生命周期，就知道运转流程。会规避很多错误。")])],-1),D=s("p",null,[s("img",{src:p,alt:""})],-1),A=i('<h2 id="页面第一次加载会触发那几个生命周期-钩子" tabindex="-1">页面第一次加载会触发那几个生命周期(钩子)? <a class="header-anchor" href="#页面第一次加载会触发那几个生命周期-钩子" aria-label="Permalink to &quot;页面第一次加载会触发那几个生命周期(钩子)?&quot;">​</a></h2><details class="details custom-block"><summary>查看答案</summary><blockquote><p>在路由面试题内，有带有路由版本的答案</p></blockquote><p>会触发 <code>beforeCreate</code>, <code>created</code>, <code>beforeMount</code>, <code>mounted</code> 这几个钩子</p></details><h2 id="dom-渲染在-哪个周期中完成的" tabindex="-1">DOM 渲染在 哪个周期中完成的？ <a class="header-anchor" href="#dom-渲染在-哪个周期中完成的" aria-label="Permalink to &quot;DOM 渲染在 哪个周期中完成的？&quot;">​</a></h2><details class="details custom-block"><summary>查看答案</summary><p><strong>mounted</strong></p></details><h2 id="在哪个生命周期内调用异步请求" tabindex="-1">在哪个生命周期内调用异步请求？ <a class="header-anchor" href="#在哪个生命周期内调用异步请求" aria-label="Permalink to &quot;在哪个生命周期内调用异步请求？&quot;">​</a></h2>',5),B={class:"details custom-block"},q=s("summary",null,"查看答案",-1),T=s("p",null,[e("可以在钩子函数 "),s("strong",null,"created、beforeMount、mounted"),e(" 中进行调用，因为在这三个钩子函数中，data 已经创建，可以将服务端端返回的数据进行赋值。")],-1),V=s("ol",null,[s("li",null,"能更快获取到服务端数据，减少页面 loading 时间"),s("li",null,[s("strong",null,"SSR"),e(" 不支持 "),s("strong",null,"beforeMount"),e("、"),s("strong",null,"mounted"),e(" 钩子函数，所以放在 "),s("strong",null,"created"),e(" 中有助于一致性")])],-1),P=s("h2",{id:"vue-父子组件生命周期流程",tabindex:"-1"},[e("Vue 父子组件生命周期流程？ "),s("a",{class:"header-anchor",href:"#vue-父子组件生命周期流程","aria-label":'Permalink to "Vue 父子组件生命周期流程？"'},"​")],-1),S={class:"details custom-block"},M=s("summary",null,"查看答案",-1),x=s("p",null,[s("strong",null,"渲染挂载过程：")],-1),$=s("p",null,[s("strong",null,"子组件更新过程：")],-1),O=s("p",null,[s("strong",null,"父组件更新过程：")],-1),I=s("p",null,[s("strong",null,"销毁过程：")],-1),N=i(`<h2 id="父组件可以监听到子组件的生命周期吗" tabindex="-1">父组件可以监听到子组件的生命周期吗？ <a class="header-anchor" href="#父组件可以监听到子组件的生命周期吗" aria-label="Permalink to &quot;父组件可以监听到子组件的生命周期吗？&quot;">​</a></h2><details class="details custom-block"><summary>查看答案</summary><ol><li><strong>子组件<code>$emit()</code>触发自定义事件</strong></li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Parent.vue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Child</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> @mounted=&quot;doSomething&quot;/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Child.vue</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">mounted()</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mounted&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="2"><li><strong>使用<code>hook event</code> 是 Vue 的自定义事件结合生命周期钩子实现的一种从组件外部为组件注入额外生命周期方法的功能。</strong></li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  Parent.vue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Child</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> @hook:mounted=&quot;doSomething&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &gt;&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">doSomething</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;父组件监听到 mounted 钩子函数 ...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  Child.vue</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;子组件触发 mounted 钩子函数 ...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 以上输出顺序为：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 子组件触发 mounted 钩子函数 ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 父组件监听到 mounted 钩子函数 ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>@hook 方法不仅仅是可以监听 mounted，其它的生命周期事件，例如：created，updated 等都可以监听。</strong></p></details><h2 id="vue-的-el-属性和-mount-优先级" tabindex="-1">Vue 的 el 属性和$mount 优先级？ <a class="header-anchor" href="#vue-的-el-属性和-mount-优先级" aria-label="Permalink to &quot;Vue 的 el 属性和$mount 优先级？&quot;">​</a></h2><details class="details custom-block"><summary>查看答案</summary><p>**<code>el</code>**的优先级会高，如下会渲染到<code>app</code>节点上。</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  router,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  store,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  el: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(App)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#ggg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></details>`,4);function j(w,R,U,J,Y,z){const a=o("font");return r(),d("div",null,[h,u,s("details",k,[g,s("p",null,[s("strong",null,[l(a,{style:{color:"red"}},{default:n(()=>[e("---------------创建阶段--------------")]),_:1})])]),_,s("p",null,[s("strong",null,[l(a,{style:{color:"red"}},{default:n(()=>[e("---------------运行阶段--------------")]),_:1})])]),E,s("p",null,[s("strong",null,[l(a,{style:{color:"red"}},{default:n(()=>[e("---------------销毁阶段--------------")]),_:1})])]),m,b,y,f,s("p",null,[s("strong",null,[l(a,{style:{color:"red"}},{default:n(()=>[e("---------------捕获组件错误--------------")]),_:1})])]),C,v,F,D]),A,s("details",B,[q,T,s("p",null,[e("但是推荐在 "),s("strong",null,[l(a,{color:"red"},{default:n(()=>[e("created")]),_:1})]),e(" 钩子函数中调用异步请求，因为在 "),s("strong",null,[l(a,{color:"red"},{default:n(()=>[e("created")]),_:1})]),e(" 钩子函数中调用异步请求有以下优点：")]),V]),P,s("details",S,[M,s("p",null,[s("strong",null,[l(a,{color:"red"},{default:n(()=>[e("父子组件的生命周期是一个嵌套的过程。")]),_:1})])]),x,s("blockquote",null,[l(a,{color:"red"},{default:n(()=>[e("父 beforeCreate")]),_:1}),e(" -> "),l(a,{color:"red"},{default:n(()=>[e("父 created")]),_:1}),e(" -> "),l(a,{color:"red"},{default:n(()=>[e("父 beforeMount")]),_:1}),e(" -> "),l(a,{color:"blue"},{default:n(()=>[e("子 beforeCreate")]),_:1}),e(" -> "),l(a,{color:"blue"},{default:n(()=>[e("子 created")]),_:1}),e(" -> "),l(a,{color:"font"},{default:n(()=>[e("子 beforeMount")]),_:1}),e(" -> "),l(a,{color:"blue"},{default:n(()=>[e("子 mounted")]),_:1}),e(" -> "),l(a,{color:"red"},{default:n(()=>[e("父 mounted")]),_:1})]),$,s("blockquote",null,[l(a,{color:"red"},{default:n(()=>[e("父 beforeUpdate")]),_:1}),e(" -> "),l(a,{color:"blue"},{default:n(()=>[e("子 beforeUpdate")]),_:1}),e(" -> "),l(a,{color:"blue"},{default:n(()=>[e("子 updated")]),_:1}),e(" -> "),l(a,{color:"red"},{default:n(()=>[e("父 updated")]),_:1})]),O,s("blockquote",null,[l(a,{color:"red"},{default:n(()=>[e("父 beforeUpdate")]),_:1}),e(" -> "),l(a,{color:"red"},{default:n(()=>[e("父 updated")]),_:1})]),I,s("blockquote",null,[l(a,{color:"red"},{default:n(()=>[e("父 beforeDestroy")]),_:1}),e(" -> "),l(a,{color:"blue"},{default:n(()=>[e("子 beforeDestroy")]),_:1}),e(" -> "),l(a,{color:"blue"},{default:n(()=>[e("子 destroyed")]),_:1}),e(" -> "),l(a,{color:"red"},{default:n(()=>[e("父 destroyed")]),_:1})])]),N])}const K=t(c,[["render",j]]);export{H as __pageData,K as default};
